---
import BaseHead from "@components/BaseHead.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import { type CollectionEntry, getCollection } from "astro:content";

type Project = CollectionEntry<"projects">;

const projects = await getCollection("projects");

console.log(projects);
---

<!doctype html>
<html lang="en">
  <head>
    <BaseHead
      title={"Projects"}
      description={`Nick has 5 projects that he would like to share.`}
    />
  </head>
  <body>
    <Header />
    <main id="content-start">
      <h1>Projects</h1>
      <ul>
      {/*
        TODO add cards into this section here
      */}
      {projects.map((p: Project) => (
        <li><a href=`projects/${p.id}`>{p.data.name}</a></li>
      ))}
      </ul>
    </main>
    <Footer />
  </body>
</html>
